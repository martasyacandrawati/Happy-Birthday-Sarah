<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <style>
    body {
  text-align: center;
  background-image: url('bg1.jpg');
  background-size: cover;
  background-position: center;
  background-repeat: no-repeat;
  font-family: sans-serif;
  padding: 30px;
  min-height: 100vh;
}
    .section {
      display: none;
    }
    .active {
      display: block;
    }
    img.button {
      cursor: pointer;
      width: 300px;
      margin-top: 0.2px;
    }
    img.content {
  max-width: 100%;
  width: 400px;
  margin-bottom: 10px;
}

@media screen and (max-width: 480px) {
  img.content {
    width: 85vw;
  }
}
    audio {
      display: none;
    }

    button {
  padding: 10px 20px;
  margin: 5px;
  font-size: 16px;
  cursor: pointer;
  border-radius: 8px;
  border: none;
  background-color: #ffffffcc;
  position: relative;
  z-index: 10;
}

.slider img:not(.active-slide) {
  pointer-events: none;
}
  
  </style>
</head>
<body>

  <!-- Musik dari GitHub -->
  <audio id="birthdayMusic" src="hbd-svt.mp3" preload="auto" autoplay loop></audio>

  <!-- Halaman 1 -->
  <div id="page1" class="section active">
    <img class="content" src="hbd-fix.png" alt="Happy Birthday">
    <br>
    <img class="button" src="here-fix.png" alt="Click" onclick="goToPage('page2')">
  </div>

  <!-- Halaman 2 -->
  <div id="page2" class="section">
    <img class="content" src="letter-c-fix.png" alt="Pilih">
    <br>
    <img class="button" src="yes-fix.png" alt="Yes" onclick="goToPage('yesPage')">
    <img class="button" src="no-fix.png" alt="No" onclick="goToPage('noPage')">
  </div>

  <!-- Halaman No -->
  <div id="noPage" class="section">
    <img class="content" src="please-fix.png" alt="Try Again">
    <br>
    <img class="button" src="ok-fix.png" alt="OK" onclick="goToPage('page1')">
  </div>

  <!-- Halaman Yes -->
  <div id="yesPage" class="section">
    <img class="content" src="cus-on-fix.png" alt="This is for u">
    <br>
    <img class="button" src="letter-o-fix.png" alt="Letter" onclick="goToPage('letterPage')">
    <br>
    <img class="content" src="or-fix.png" alt="or">
    <br>
    <img class="button" src="sandwich-fix.png" alt="Sandwich" onclick="goToPage('sandwichPage')">
  </div>

  <!-- Halaman Letter -->
  <div id="letterPage" class="section">
    <div class="slider" id="letterSlider">
      <img class="content" src="n1.jpg" alt="Letter">
      <img class="content" src="n2.jpg" alt="Letter">
      <img class="content" src="n3.jpg" alt="Letter">
    </div>
    <br>
    <button onclick="prevSlide('letterSlider')">⬅</button>
    <button onclick="nextSlide('letterSlider')">➡</button>
    <br>
    <button onclick="goBack()">⬅ Back</button>
  </div>

  <!-- Halaman Sandwich -->
  <div id="sandwichPage" class="section">
    <div class="slider" id="sandwichSlider">
      <img class="content" src="s1.jpg" alt="Sandwich">
      <img class="content" src="s2.jpg" alt="Sandwich">
    </div>
    <br>
    <button onclick="prevSlide('sandwichSlider')">⬅</button>
    <button onclick="nextSlide('sandwichSlider')">➡</button>
    <br>
    <button onclick="goBack()">⬅ Back</button>
  </div>

    <script>
    const historyStack = {};
    let currentPage = 'page1';
    const slideIndices = {};

    function goToPage(pageId) {
      document.getElementById(currentPage).classList.remove('active');
      historyStack[pageId] = currentPage;
      document.getElementById(pageId).classList.add('active');
      currentPage = pageId;

      // Initialize first slide if slider exists
      if (pageId.includes('Slider')) showSlide(pageId, 0);
      if (document.querySelector(#${pageId} .slider)) {
        showSlide(pageId + 'Slider', 0);
      }
    }

    function goBack() {
      document.getElementById(currentPage).classList.remove('active');
      const prevPage = historyStack[currentPage] || 'page1';
      document.getElementById(prevPage).classList.add('active');
      currentPage = prevPage;
    }

      function showSlide(sliderId, index) {
      const container = document.getElementById(sliderId);
      const slides = container.querySelectorAll('img');
      if (!slides.length) return;

      slideIndices[sliderId] = index;
      slides.forEach((img, i) => {
        img.classList.toggle('active-slide', i === index);
      });
    }

    function nextSlide(sliderId) {
      const container = document.getElementById(sliderId);
      const slides = container.querySelectorAll('img');
      if (!slides.length) return;

      let i = slideIndices[sliderId] || 0;
      i = (i + 1) % slides.length;
      showSlide(sliderId, i);
    }

    function prevSlide(sliderId) {
      const container = document.getElementById(sliderId);
      const slides = container.querySelectorAll('img');
      if (!slides.length) return;

      let i = slideIndices[sliderId] || 0;
      i = (i - 1 + slides.length) % slides.length;
      showSlide(sliderId, i);
    }

    // Autoplay trigger
    window.addEventListener('click', function playMusicOnce() {
      document.getElementById('birthdayMusic').play();
      window.removeEventListener('click', playMusicOnce);
    });
  </script>
</body>
</html>
